---
title: "الأمر find"

description: "يعتبر الأمر find من أهم أدوات البحث في لينكس."

summary: "يعتبر الأمر find من أهم أدوات البحث في لينكس."

slug: "find"
aliases: 
- "/Linux/find/"

author: ["AboTyim"]
date: "2021-08-05"
lastmod: "2021-08-09"
tags: ["Linux Commands", "أوامر لينكس", "find"]
categories: ["أوامر لينكس"]
series: 
- "مسار سطر أوامر لينكس"

hidemeta: false
hideSummary: false
disableHLJS: false # to disable highlightjs
disableShare: false
#canonicalURL: "https://canonical.url/to/page"

ShowReadingTime: true
ShowBreadCrumbs: true
ShowPostNavLinks: true
searchHidden: false
ShowToc: true
TocOpen: true
comments: true

cover:
    image: "posts/linux/find/find.png"
    alt: "search files logo"
    caption: "مصدر الصورة [allthings.how](https://allthings.how/how-to-find-a-file-by-name-in-linux/)"
    relative: false # when using page bundles set this to true
    hidden: false # only hide on current single page


weight: 20
---



بسم الله الرحمن الرحيم، الحمد لله الذي علم بالقلم، علم الإنسان مالم يعلم والصلاة والسلام على خير معلم الناس الخير محمد أما بعد:



## مقدمة:

في هذا الدرس سنتعلم كيفية استخدام أمر `find` والذي يعتبر من أهم أدوات البحث في Linux، ولا يقتصر فائدته على البحث في الملفات فقط بل تستطيع تنظيم الملفات بواسطته، ومسح الملفات والمجلدات الفارغة، لا أبالغ لو قلت لك تستطيع فعل الكثير :smiley:



## الطريقة النحوية لكتابة الأمر `find`:

```bash
find [options] [paths] [expression]
```



## البحث بناءً على الاسم:

-  `-name`: يستخدم للبحث عن الاسم وهو حساس لحالة الأحرف كما يقال <mark>Case sensitivity</mark> أي عندما تبحث عن كلمة `Main.py` هي ليست مطابقة لـ `main.py`.
-  `-iname`: يستخدم للبحث عن الاسم أيضاًَ وهو مشابه لما سبق مع تجاهل حالة الأحرف، فعندما تبحث عن كلمة `MAin.PY` سيطابق اسم الملف `main.py` و ... إلخ.
-  ملاحظة: بإمكاننا استخدام `*` في أي مكان من موقع الكلمة.



**استخدام المعاملات المنطقية:**

-  `-not`:  تعبر عن المعامل المنطقي `NOT` بإمكاننا استخدام `-not`  أو `!` عندما تريد العثور على كل الملفّات الّتي **لا تُوافق** نمطًا Pattern مُحدّدًا، في حال استخدام `!` يجب تخليصها Escape حتى لا يحاول سطر الأمر تفسيرها قبل بدء عمل find.
-  `-or`: تعبر عن المعامل المنطقي `OR` بإمكاننا استخدام `-or` أو `-o`.
-  `-and`: تعبر عن المعامل المنطقي `AND` بإمكاننا استخدام `-and` أو `-a`.
-  ملاحظة: في حال لم تضع `OR` أو `AND` فسيكون الخيار بشكل تلقائي `AND`.



### البحث بواسطة اسم الملف في المجلد الحالي:

```bash
find . -name main.py
```



### البحث بواسطة اسم الملف مع تجاهل حالة الأحرف:

```bash
find /home -iname Main.py
```



### البحث فقط عن المجلدات:

```bash
find / -type d -name Books
```



### البحث فقط عن الملفات:

```bash
find . -type f -name main.py
```



### البحث عن كل الملفات ذات اللاحقة `py`:

```bash
find . -type f -name "*.py"
```



### البحث عن كل الملفات التي تبدأ بـ `mian` مع استثناء اللاحقة `php`:

```bash
find . -type f -name "main*" -not -name "*.php"
```



## البحث بناءً على عدد المجلدات الفرعية:

- `-mindepth`: تحدد القيمة الصغرى لعدد مستويات المجلدات التي سيبدأ منها البحث، وسيتم تجاهل المجلد الحالي.
- `-maxdepth`: تحدد القيمة الكبرى لعدد مستويات المجلدات التي سينتهي فيها البحث.



### البحث بعمق كحد أدنى 4 مجلدات:

```bash
find /home/user -mindepth 4
```



### البحث بعمق كحد أقصى 5 مجلدات:

```bash
find /home/user -maxdepth 5
```



## البحث عن المجلدات والملفات الفارغة وحذفها:

- `-type`: تستخدم لتحديد النوع، لو أردنا عرض النتائج للملفات فقط نستخدم `f`، ونستخدم `d` لعرض المجلدات فقط، ونستخدم `s` لعرض ملفات socket.
- `-empty`: لعرض الملفات أو المجلدات الفارغة.
- `-print`: لبطاعة النتائج فقط.
- `-delete`: تستخدم للحذف.



### البحث عن المجلدات الفارغة:

```bash
find ~/Work -type d -empty -print 
```



### حذف المجلدات الفارغة:

```bash
find ~/Work -type d -empty -delete 
```



### البحث عن الملفات الفارغة:

```bash
find ~/Work -type f -empty -print
```



### حذف الملفات الفارغة:

```bash
find ~/Work -type f -empty -delete
```



### البحث عن الملفات المخفية:

```bash
find / -type f -name ".*"
```



## البحث بناءً على الأذونات:

`-perm`: وهي اختصار لكلمة permission.



### البحث عن الملفات ذات الأذونات `777`:

```bash
find . -type f -perm 0777 -print
```



### البحث عن الملفات بدون الأذونات `777`:

```bash
find . -type f ! -perm 0777 -print
```



### البحث عن الملفات للقراءة فقط:

```bash
find / -type f -perm /u=r
```



### البحث عن الملفات التنفيذية:

```bash
find / -type f -perm /a=x
```



## البحث بناءً على المالكين والمجموعات:

- `-user`: للبحث عن الملفات التي تعود لمستخدم ما.
- `-group`: للبحث عن الملفات التي تعود لمجموعة ما.
- `-uid`: للبحث عن الملفات التي تعود لمستخدم ما بواسطة القيمة الرقمية للمالك.
- `-gid`: للبحث عن الملفات التي تعود لمجموعة ما بواسطة القيمة الرقمية للمجموعة.



### البحث بناءً على المالك `ahmed`:

```bash
find /home -user ahmed
```



### البحث بناءً على المجموعة `muslim`:

```bash
find /home -group muslim
```



## البحث بناءً على التاريخ والوقت:

يخزن لينكس بيانات عن تواريخ الوصول Access time، وتواريخ التعديل Modification، وتواريخ التّبديل Change:

- **تاريخ الوصول:** آخر مرّة قُرئ من الملفّ أو كُتب فيه.
- **تاريخ التّعديل:** آخر مرّة عُدِّل فيها على محتوى الملفّ.
- **تاريخ التّبديل:** آخر مرّة غُيّرت فيها البيانات الوصفيّة Meta-data المُتعلّقة بوضع الملفّ ضمن نظام الملفّات.

- `-mtime`: للبحث عن الملفّات الّتي عُدِّل على محتواها باليوم.
- `-mmin`: للبحث عن الملفّات الّتي عُدِّل على محتواها بالدقيقة.
- `-atime`: للبحث عن الملفّات المقروءة إليها باليوم.
- `-amin`: للبحث عن الملفّات المقروءة بالدقيقة.
- `-ctime`: للبحث عن الملفّات التي غيرت بياناتها الوصفيّة الخاصة باليوم.
- `-cmin`: للبحث عن الملفّات التي غيرت بياناتها الوصفيّة الخاصة بالدقيقة.
- ملاحظة: عند استخدام اشارة `+` تعني أكثر من، وعند استخدام `-` تعني أقل من، وعند عدم وضع أي أشارة فقط الرقم تعني المطابقة.



### البحث عن الملفات المعدلة آخر 50 يوماً:

```bash
find / -mtime -50
```



### البحث عن الملفات المعدلة أكثر من 50 يوماً:

```bash
find / -mtime +50
```



### البحث عن الملفات المعدلة من 20 إلى 50 يوماً:

```bash
find / -mtime +20 -mtime -50
```





### البحث عن الملفات التي تم الوصول إليها آخر 50 يوماً:

```bash
find / -atime -50
```



### البحث عن الملفات التي الوصول إليها أكثر من 50 يوماً:

```bash
find / -atime +50
```



### البحث عن الملفات التي تغييرت بيانات التعريف الخاصة بها  آخر 50 دقيقة:

```shell
find / -cmin -50
```



## البحث بناءً على الحجم:

- `c`: الحجم بالبايت.
- `k`: الحجم بالكيلوبايت (1024 بت).
- `M`: الحجم بالميغابايت (1048576 بت).
- `G`: الحجم بالجيغابايت (1073741824 بت).
- ملاحظة: عند استخدام اشارة `+` تعني أكبر من، وعند استخدام `-` تعني أصغر من، وعند عدم وضع أي أشارة فقط الرقم تعني المطابقة.



### البحث عن الملفات المطابقة للحجم 10MB:

```bash
find / -size 10M
```



### البحث عن الملفات أكبر من 2MB وأصغر من 10MB:

```bash
find / -size +2M -size-10M
```





## تنفيذ الأوامر على نتائج البحث:

يُتيح الأمر `find` إمكانيّة تنفيذ أوامر على نتائج البحث مباشرةً عن طريق مُعطَى `exec-`.

ملاحظة: نستخدم علامة `{}` هي ماسك مكان Placeholder، تحلّ محلَّ الملفّات المُطابقة لخيارات البحث. تُشير علامة `;\` إلى نهاية الأمر.



### البحث عن الملفات الفارغة والتأكد من مساحة كل ملف:

```bash
find . -type f -empty -exec du {} \;
```



### البحث عن ملفات `PDF` بناء على نوع الملف:

```bash
find . -type f -exec file -i {} \; | grep -i "application/pdf"
```



### البحث عن الملفات ذات التنسيق `data`:

```bash
find . -type f -exec file {} \; | grep '\data$'
```



<mark>تنويه</mark>: تستطيع استخدام `-ok` بدل من `-exec` والفرق الوحيد بينهما أنها تعرض رسالة موافقة على تنفيذ الأمر على كل ملف، وهي مفيدة جداً في حال استخدمت أمر الحذف حتى لا تمسح أي ملف بطريقة الخطأ.



## المراجع:

- [35 Practical Examples of Linux Find Command.](https://www.tecmint.com/35-practical-examples-of-linux-find-command/)
- [كيف تستخدِم أمرَي find و locate للبحث عن الملفّات على Linux.](https://academy.hsoub.com/devops/linux/%D9%83%D9%8A%D9%81-%D8%AA%D8%B3%D8%AA%D8%AE%D8%AF%D9%90%D9%85-%D8%A3%D9%85%D8%B1%D9%8E%D9%8A-find-%D9%88-locate-%D9%84%D9%84%D8%A8%D8%AD%D8%AB-%D8%B9%D9%86-%D8%A7%D9%84%D9%85%D9%84%D9%81%D9%91%D8%A7%D8%AA-%D8%B9%D9%84%D9%89-linux-r43/)
- [البحث بواسطة الأمر find في لينكس.](https://abgoor.blogspot.com/2010/10/find.html)
- 

